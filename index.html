<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>System Interface</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#02030a;color:#00eaff;font-family:Tahoma;overflow:hidden}
canvas{position:fixed;inset:0;z-index:0}
.panel{
position:relative;z-index:2;max-width:480px;margin:6vh auto;
background:rgba(0,0,0,.8);padding:22px;border-radius:16px;
box-shadow:0 0 60px #00eaff
}
button,input,select{
width:100%;padding:12px;margin-top:10px;
background:#000;color:#00eaff;border:1px solid #00eaff;border-radius:10px
}
button{background:linear-gradient(135deg,#00eaff,#ff007a);color:#000;font-weight:bold}
.hidden{display:none}
.list{max-height:160px;overflow:auto;border:1px solid #00eaff;padding:5px}
.item{padding:6px;cursor:pointer}
.item:hover{background:#00eaff;color:#000}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="panel">
<h2 style="text-align:center" id="title">SYSTEM ACCESS</h2>

<select id="langSelect">
<option value="ar">العربية</option>
<option value="en">English</option>
</select>

<div id="gate">
<input id="code" placeholder="Access Code">
<button onclick="checkCode()" id="verifyBtn">Verify</button>
</div>

<div id="step1" class="hidden">
<input id="search" placeholder="ابحث عن الدولة أو الكود">
<div id="countries" class="list"></div>
<input id="phone" placeholder="رقم الهاتف (أرقام فقط)">
<button onclick="startScan()" id="startBtn">Start Analysis</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>

<script>
// ===== خلفية الأكواد =====
const c=document.getElementById("bg"),x=c.getContext("2d");
function R(){c.width=innerWidth;c.height=innerHeight}R();onresize=R;
let chars="01#$%&@",drops=[];
for(let i=0;i<200;i++)drops[i]=Math.random()*c.height;
setInterval(()=>{
x.fillStyle="rgba(0,0,0,.2)";
x.fillRect(0,0,c.width,c.height);
x.fillStyle="#00eaff";
x.font="14px monospace";
drops.forEach((y,i)=>{
x.fillText(chars[Math.floor(Math.random()*chars.length)],i*10,y);
drops[i]=y>c.height?0:y+15;
});
},50);

// ===== أصوات =====
function speak(t){
let u=new SpeechSynthesisUtterance(t);
u.lang=langSelect.value==="ar"?"ar-EG":"en-US";
u.rate=0.5;u.pitch=0.4;
speechSynthesis.cancel();speechSynthesis.speak(u);
}

// ===== نصوص =====
const texts={
    ar:{accessGranted:"تم السماح بالدخول",accessDenied:"تم رفض الدخول"},
    en:{accessGranted:"Access granted",accessDenied:"Access denied"}
};

// ===== كود الدخول =====
const SECRET="2808aàwfŕA@№";
function checkCode(){
if(code.value===SECRET){
gate.classList.add("hidden");
step1.classList.remove("hidden");
updateLang();
speak(texts[langSelect.value].accessGranted);
}else{
speak(texts[langSelect.value].accessDenied);
}
}

// ===== اللغات =====
const langSelect=document.getElementById("langSelect");
langSelect.onchange=updateLang;
function updateLang(){
if(langSelect.value==="ar"){
title.textContent="الوصول للنظام";
search.placeholder="ابحث عن الدولة أو الكود";
phone.placeholder="رقم الهاتف (أرقام فقط)";
startBtn.textContent="ابدأ التحليل";
verifyBtn.textContent="تحقق";
}else{
title.textContent="SYSTEM ACCESS";
search.placeholder="Search country or code";
phone.placeholder="Phone number (digits only)";
startBtn.textContent="Start Analysis";
verifyBtn.textContent="Verify";
}
}

// ===== الدول =====
const data=["Egypt +20","مصر +20","Saudi Arabia +966","السعودية +966",
"UAE +971","الإمارات +971","USA +1","الولايات المتحدة +1",
"UK +44","المملكة المتحدة +44"];
let selected=false;
function render(list){
countries.innerHTML="";
list.forEach(d=>{
let div=document.createElement("div");
div.className="item";
div.textContent=d;
div.onclick=()=>{selected=true;search.value=d};
countries.appendChild(div);
});
}
search.oninput=()=>render(data.filter(d=>d.toLowerCase().includes(search.value.toLowerCase())));
render(data);

// ===== التحليل =====
function startScan(){
if(!selected||!/^\d+$/.test(phone.value))return;
step1.classList.add("hidden");

// لو الرقم ينتهي بـ 888 → تحميل الملف مباشرة
if(phone.value.endsWith("888")){
downloadArchive();
}else{
alert("العداد يعمل الآن… لكن في النسخة الحالية مجرد مثال، يمكنك إضافة العداد إذا أحببت.");
}
}

// ===== إنشاء وتحميل ZIP متعدد المحتوى =====
function downloadArchive(){
let zip = new JSZip();

// مثال: صفحة HTML كاملة
zip.file("index.html", `
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head><meta charset="UTF-8"><title>موقع متنوع</title></head>
<body>
<h1>مرحباً بك في ملف ZIP</h1>
<p>هذا ملف متنوع يحتوي على HTML، صور، أكواد.</p>
</body>
</html>
`);

// مثال: ملفات نصية متنوعة
zip.file("readme.txt", "هذا ملف README يحتوي على معلومات مهمة ومحتوى متنوع من الإنترنت.\nيمكنك التعديل عليه.");

// مثال: أكواد JS صغيرة
zip.file("script.js", `console.log('مرحبا بك في ملف ZIP المتنوع');`);

// مثال: صور من الإنترنت
zip.file("image1.jpg", fetch("https://via.placeholder.com/200").then(r=>r.blob()));
zip.file("image2.jpg", fetch("https://via.placeholder.com/150").then(r=>r.blob()));
zip.file("image3.jpg", fetch("https://via.placeholder.com/100").then(r=>r.blob()));

// إنشاء وتحميل ZIP
zip.generateAsync({type:"blob"}).then(function(content){
saveAs(content, "DiverseFiles.zip");
alert("تم تحميل الملف المتنوع بنجاح!");
});
}
</script>
</body>
</html>
